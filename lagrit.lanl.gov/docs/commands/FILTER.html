<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta http-equiv="Content-Type"
 content="text/html; charset=iso-8859-1">
  <meta name="Generator" content="Microsoft Word 98">
  <meta name="GENERATOR"
 content="Mozilla/4.05C-SGI [en] (X11; I; IRIX 6.5 IP32) [Netscape]">
  <title>FILTERKD and FILTER </title>
</head>
<body alink="#ff0000" bgcolor="#ffffff" link="#0000ee" text="#000000"
 vlink="#551a8b">
&nbsp;



<blockquote>
<b><u><font face="Times">FILTERKD<br>FILTER<br>FILTER/ELEMENT </font></u></b>

<blockquote>

<p>
<span style="font-family: times;">

      This command is used to filter (mark for deletion) a set of nodes that are geometricly close,
 within the tolerance value.
            This command changes the node type of the deleted nodes to type 'dudded'
            (itp=21) but does not remove them from the point list. 
            There must be least one point must be specified in the point range
  in order for this command to work properly. 
<br>
<br>Dudded nodes are not removed from the mesh object, but are ignored by many routines because of their dudded status. Use the command  <span
 style="font-weight: bold;"><a href="RMPOINT.html">rmpoint/compress</a> </span> to remove dudded nodes and update the mesh object. <br>
<br>
If the mesh object has connected elements, the itet values in the connectivity array are adjusted. This may change topology.
To filter duplicate elements or flat elements, see <b>filter/element</b> or <b>filterkd</b> with the <b>zero_element</b> option.
          </font></p>
</blockquote>

<font face="Times"><font face="Times"><strong>FORMAT</strong>:</font> </font>

<blockquote>
<font face="Times"><font face="Times"><b><font face="Courier New, Courier, monospace">filterkd</font></b><font face="Courier New, Courier, monospace">/</font></font></font><font face="Courier New, Courier, monospace"><big><font>ifirst,ilast,istride</font></big>/[tolerance] / [<b style="text-decoration: underline;">nocheck</b> | <b>zero_element</b>]</font><font
 face="Times"><font face="Times">

 <br>
 <br>
 <font face="Times"><font face="Times"><b><font face="Courier New, Courier, monospace">filter</font></b><font face="Courier New, Courier, monospace">/</font></font></font><font face="Courier New, Courier, monospace"><big><font>ifirst,ilast,istride</font></big>/[tolerance] / [<b style="text-decoration: underline;">min|max</b>  /attribute]</font><font
 face="Times"><font face="Times">
<br><i>This version of filter is being replaced with the kd-tree search algorithm used in filterkd that more accurately identifies nodes within the tolerance value.  
</i>
<br>
<blockquote>
   <font face="Courier New, Courier, monospace"><font> iirst,ilast,istride </font>
<span style="font-family: times;"> defines the node set where 1,0,0 are all nodes in the mesh object.
<br>
<br>
<font face="Courier New, Courier, monospace"><font>  tolerance</font>
<span style="font-family: times;">
This is the epsilon value used to measure node distances. If this value is not included, the mesh object epsilon value is used.
 </font></p>


<p><font face="Times">
      <b style="text-decoration: underline;">nocheck</b>
       is the default for <b>filterkd</b> and will skip the
code that removes zero elements.
         The behavior is similar to original <b>filter</b> except a kdtree structure
         is used instead of a binning method for finding nodes within epsilon value. This version has
         been shown to be more accurate where precision matters.
</font></p>

<p><font face="Times">
      <b>zero_element</b>
      This option is available with <b>filterkd</b> where a mesh has connected elements.
      The algorithm removes flat elements as using the tolerence value as mininum edge length.
      Duplicate nodes not associated with these flat elements are not removed.
</font></p>

<p><font face="Times"> <b>min|max</b> / <font face="Courier New, Courier, monospace">attribute</font> option is available with the <b>filter</b> command. Nodes for deletion are detected based on the standard geometric criteria however, the choice about which node is retained is determined based on comparison of the <font face="Courier New, Courier, monospace">attribute</font> values and the node with either the <b>min</b> or <b>max</b> value is retained.</font></p>

</blockquote>
<br>
   <b><font face="Courier New, Courier, monospace">filter</font></b><font face="Courier New, Courier, monospace">/<span style="font-weight: bold;">element</span>/[</font></font></font><font face="Courier New, Courier, monospace"><big>search_range</big>]/
[<b style="text-decoration: underline;">nodelete</b> | <span style="font-weight: bold;">delete</span>]</font><font
 face="Times"><font face="Times"> </font></font>

<blockquote>
<p><span style="font-family: times;">
     Search a mesh object for duplicate elements. A duplicate element is
      defined
      as having the exact same set of nodes in the element connectivity list
      (itet).
      The order of the nodes in the connectivity does not matter. The element with the larger itetclr value (master) wi
ll
      be
      kept. The duplicate element will have its
      material color (itetclr) changed to max(itetclr) + 1. Two new element
      attributes (iclr1, iclr2) are added to the
      mesh object to keep track of the correspondence of
      master(retained)/duplicate(removed) elements and their original
      material id (itetclr).&nbsp; The option <b>nodelete</b>is the default and elements are not removed. Use option <b>delete</b> to remove the elements marked as duplicate. </span> <br>
The <font face="Courier New, Courier, monospace"><font> search_range</font>
<span style="font-family: times;">
can be set by the user. This number limits the number of elements above and below an element (in numerical order) to search. The default is 10.
<br>
For more on <b>filter/element</b> see <a href="FILTER_element.html">filter/element details.</a>
 </font></p>

</blockquote>
</p>

</blockquote>


  <font face="Times"> &nbsp;EXAMPLES:<br>
  </font>
  <blockquote>
<font face="Times"><b>filterkd</b>/1,0,0<br><b>filter</b>/1,0,0<br>
Filter all nodes and delete duplicates with tolerance distance set to mesh object epsilon value. 
Both filter and filterkd behave the same but filterkd performs with better precision.<br>
    <br>
    <b>filterkd</b> / 1 0 0 / 1.e-3<br>
Filter all nodes and delete duplicates where epsilon tolerance is set
by user to 1.e-3.<br>
    <br>
    <b>filterkd</b> / <span style="font-weight: bold;">pset</span> <span
 style="font-weight: bold;">get</span> point_set<br>
Filter a subset of the nodes and delete duplicates with epsilon
tolerance set automaticly.<br>
    <br>

 <b>filterkd</b> / 1 0 0 / 1.e-3 / <b>zero_element</b> <br>
Identify and remove all flat elements with edge length less than 1.e-3 as defined by user. 
<br>
    <br>

	<b>filter</b> / 1 0 0 / / min / imt <br>
Filter all  nodes and delete duplicates with epsilon
tolerance set automaticly. When duplicate nodes are detected the imt attribute is examined and the node with minimum imt value is retained. <br>
    <br>
    <font face="Times"><b>filter</b> / <span style="font-weight: bold;">element</span>
/ / <span style="font-weight: bold;">nodelete</span><br>
Filter elements and set itetclr of duplicates to max(itetclr) + 1.
Assign values to iclr1 and iclr2 arrays.</font><font face="Times"><br>
    <br>
    <font face="Times"><b>filter</b> / <span style="font-weight: bold;">element</span>
/ 1e20 / <span style="font-weight: bold;">delete</span><br>
    </font><font face="Times">Filter all elements (assuming there are
less than 1e20)&nbsp; with an exhaustive search and delete duplicate
elements. Assign values to iclr1 and iclr2 arrays.</font><br>

  </blockquote>
</blockquote>

<font face="Times"> &nbsp; <br>
</font> <br>
</body>
</html>
